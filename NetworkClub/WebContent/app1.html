<!DOCTYPE html>
<html lang="en">

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta charset="utf-8">
<title>报名</title>

<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/materialize.min.css">
<link rel="stylesheet" href="css/tooplate.css">

<script src="js/jquery-3.2.1.slim.min.js"></script>
<script src="js/materialize.min.js"></script>
</head>

<body id="application">
	<div class="container">
		<div class="row">
			<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12  mx-auto">
				<header class="mt-5 mb-5 text-center">
					<h3>报名</h3>
					<p class="tm-form-description">欢迎来到网络协会！</p>
				</header>
				<form action="http://localhost:8080/NetworkClub/login" method="get"
					onsubmit="return checkForm();" enctype="multipart/form-data"
					class="tm-form-white tm-font-big">
					<div class="tm-bg-white tm-form-pad-big">
						<div class="form-group mb-5">
							<label for="school" class="black-text mb-4 big">学校：</label>
							<div>
								<label> <input name="school" class="with-gap"type="radio" value="z" />
									<span>张家港校区</span>
								</label> <label> <input
									class="with-gap" name="school" type="radio" value="s" /> <span>苏州理工学院</span>
								</label>
							</div>
							<div>
								<label for="sel1">学院：</label> <select name="sel1" id="sel1"
									class="validate tm-input-white-bg">
									<option value="" style="size: 20px;">--学院--</option>
								</select>
							</div>
							<div class="form-group mb-5">
								<label for="sel2" class="black-text mb-4 big">专业：</label> <select
									name="sel2" id="sel2"
									class="validate tm-input-white-bg">
									<option value="0">--专业--</option>
								</select>
							</div>
						</div>
						<div class="form-group mb-5">
							<label for="name" class="black-text mb-4 big">姓名：</label> <input
								id="name" name="name" type="text"
								class="validate tm-input-white-bg" />
						</div>
						<div class="form-group mb-5">
							<label for="num" class="black-text mb-4 big">学号：</label> <input
								id="num" name="num" type="text" min="0" max="12"
								class="validate tm-input-white-bg"/>
						</div>
						<div class="form-group mb-5">
							<label for="school" class="black-text mb-4 big">性别：</label>
							 <label> <input 
								name="gender" type="radio" value="s" /> <span>男</span>
							</label> <label>
								<input class="with-gap" name="gender" type="radio" value="m" />
								<span>女</span>
							</label>
						</div>
						<div class="form-group mb-5">
							<label for="tele" class="black-text mb-4 big">电话：</label> <input
								id="tele" name="tele" type="text"
								class="validate tm-input-white-bg"  />
						</div>
						<div class="form-group mb-5">
							<label for="qq" class="black-text mb-4 big">Q Q：</label> <input
								id="qq" name="qq" type="text"
								class="validate tm-input-white-bg"  />
						</div>
						<div class="form-group mb-5">
							<label for="group" class="black-text mb-4 big">小组：</label> <select
								id="group" class="validate tm-input-white-bg" >
								<option value="">--小组--</option>
								<option value="1">网络组</option>
								<option value="2">软件组</option>
								<option value="3">会议组</option>
								<option value="4">硬件组</option>
							</select>
						</div>
					</div>
					<div class="text-center mt-5">
						<button type="submit"
							class="waves-effect btn-large btn-large-white"
							style="width: 200px; height: 42px;">提交</button>
					</div>
				</form>
				<footer class="row tm-mt-big mb-3">
					<div class="col-xl-12">
						<p
							class="text-center grey-text text-lighten-2 tm-footer-text-small">
							Copyright &copy; 2019 网络协会</p>
					</div>
				</footer>
			</div>
		</div>
	</div>
	<script type="text/javascript">
    $(document).ready(function () {
    
        	  $('select').formSelect();
            /**********给学校的单选按钮添加监听****************/
            var schoolRadioArray = $("input[name='school']");
            schoolRadioArray.click(function(){
            	var val = $(this).val();
            	var sel1 = $('select[name="sel1"]');
            	sel1.empty();
            	var sel2 = $('select[name="sel2"]');
            	sel2.empty();
            	
            	option=$("<option />");
            	option.text('--学院--');
            	option.attr('value','');
            	sel1.append(option);
            	
          		 var option=$("<option />");
          		 option.text('船舶与建筑工程学院');
          		 option.attr('value','船舶与建筑工程学院');
          		 sel1.append(option);
          		 
          		 option=$("<option />");
          		 option.text('电气与信息工程学院');
          		 option.attr('value','电气与信息工程学院');
          		 sel1.append(option);
          		 
          		 option=$("<option />");
          		 option.text('机电与动力工程学院');
          		 option.attr('value','机电与动力工程学院');
          		 sel1.append(option);
          		 
          		 option=$("<option />");
          		 option.text('冶金与材料工程学院');
          		 option.attr('value','冶金与材料工程学院');
          		 sel1.append(option);
          		 
          		 option=$("<option />");
          		 option.text('商学院');
          		 option.attr('value','商学院');
          		 sel1.append(option);
          		 
          		 option=$("<option />");
          		 option.text('公共教育学院');
          		 option.attr('value','公共教育学院');
          		 sel1.append(option);
          		$('select').formSelect();
            });
            
            /**************学院添加监听*********************/
            $("select[name='sel1']").change(function(){
            	  console.log($(this).val());
            	  var school = $('input[name="school"]:checked').val(); 
            	  var val = $(this).val();
            	  var sel2 = $('select[name="sel2"]');
            	  sel2.empty();
            	  
            	  option=$("<option />");
            	  option.text('--专业--');
            	  option.attr('value','');
            	  sel2.append(option);
            	  
            	  if(school == 'z'){
	            	  	switch(val){
	            	  	case '电气与信息工程学院':
		            	  	var option = $('<option/>');
		            	  	option.text('电气工程及其自动化');
		            		option.attr('value','电气工程及其自动化');
		            		sel2.append(option);
		            		  
		            		option=$("<option />");
		            		option.text('软件工程');
		            		option.attr('value','软件工程');
		            		sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '机电与动力工程学院':
		            	  	var option = $('<option/>');
		            	  	option.text('机械电子工程');
		            		option.attr('value','机械电子工程');
	            	  	break ;
	            	  	
	            	  	case '冶金与材料工程学院':
	            	  	  	var option = $('<option/>');
		            	  	option.text('材料成型及控制工程');
		            		option.attr('value','材料成型及控制工程');
		            		 
		            		 sel2.append(option);
		            		 option=$("<option />");
		            		 option.text('冶金工程');
		            		 option.attr('value','冶金工程');
		            		 sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '商学院':
	            	  		var option = $('<option/>');
		            	  	option.text('物流管理');
		            		option.attr('value','物流管理');
		            		sel2.append(option);
		            		  
		            		 option=$("<option />");
		            		 option.text('财务管理');
		            		 option.attr('value','财务管理');
		            		 sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '公共教育学院':
	            	  		var option = $('<option/>');
			            	sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '船舶与建筑工程学院':
	            	  		var option = $('<option/>');
			            	sel2.append(option);
	            	  	break ;
	            	  	
	            	  	default : 
	            	  	break;
	            	  }
            	  }else if(school == 's'){
            	  	switch(val){
	            	  	case '电气与信息工程学院':
		            	  	var option = $('<option/>');
		            	  	option.text('软件工程');
		            		option.attr('value','软件工程');
		            		sel2.append(option);
		            		  
		            		option=$("<option />");
		            		option.text('电子信息工程');
		            		option.attr('value','电子信息工程');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('计算机科学与技术');
		            		option.attr('value','计算机科学与技术');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('电气工程及其自动化');
		            		option.attr('value','电气工程及其自动化');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('通信工程');
		            		option.attr('value','通信工程');
		            		sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '机电与动力工程学院':
		            	  	var option = $('<option/>');
		            	  	option.text('机械电子工程');
		            		option.attr('value','机械电子工程');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('机械设计制造及其自动化');
		            		option.attr('value','机械设计制造及其自动化');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('能源与动力工程');
		            		option.attr('value','能源与动力工程');
		            		sel2.append(option);
		            		
		            		option=$("<option />");
		            		option.text('机器人工程');
		            		option.attr('value','机器人工程');
		            		sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '冶金与材料工程学院':
	            	  	  	var option = $('<option/>');
		            	  	option.text('材料成型及控制工程');
		            		option.attr('value','材料成型及控制工程');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('焊接技术与工程');
		            		 option.attr('value','焊接技术与工程');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('新能源材料与器件');
		            		 option.attr('value','新能源材料与器件');
		            		 sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '商学院':
	            	  		var option = $('<option/>');
		            	  	option.text('物流管理');
		            		option.attr('value','物流管理');
		            		sel2.append(option);
		            		  
		            		 option=$("<option />");
		            		 option.text('财务管理');
		            		 option.attr('value','财务管理');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('经济学（国际贸易）');
		            		 option.attr('value','经济学（国际贸易）');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('工商管理');
		            		 option.attr('value','工商管理');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('旅游管理');
		            		 option.attr('value','旅游管理');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('信息管理与信息系统');
		            		 option.attr('value','信息管理与信息系统');
		            		 sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '公共教育学院':
	            	  		var option = $('<option/>');
	            	  		option.text('英语专业');
		            		option.attr('value','英语专业');
			            	sel2.append(option);
			            	
			            	option = $('<option/>');
	            	  		option.text('社会体育指导与管理');
		            		option.attr('value','社会体育指导与管理');
			            	sel2.append(option);
	            	  	break ;
	            	  	
	            	  	case '船舶与建筑工程学院':
	            	  		var option = $('<option/>');
		            	  	option.text('船舶与海洋工程');
		            		option.attr('value','船舶与海洋工程');
		            		sel2.append(option);
		            		  
		            		 option=$("<option />");
		            		 option.text('土木工程');
		            		 option.attr('value','土木工程');
		            		 sel2.append(option);
		            		 
		            		 option=$("<option />");
		            		 option.text('工程管理');
		            		 option.attr('value','工程管理');
		            		 sel2.append(option);
	            	  	break ;
	            	  	
	            	  	default : 
	            	  	break;
	            	  }
            	  }
            	$('select').formSelect();
            });
   });
   
    function checkForm(){
       	var school =$("input[name='school']:checked").val();
       		if(school == null || school ==""){
       			alert('学校不能为空 '); 
       			return false;
       	}
       	var sel1 = $('#sel1').val();
       		if(sel1 == null || sel1 == ""){
       			alert('学院不能为空');
       			return false;
       	}
       	var sel2 = $('#sel2').val();
       		if(sel2 == null || sel2 == ""){
       			if(school == 'z' && (sel1 == '船舶与建筑工程学院' || sel1 == '公共教育学院') ){
       			}else{
       				alert('专业不能为空');
       				return false;
       			}
       	}
       	var name = $('#name').val();
       		if(name == null|| name == ""){
       			alert('姓名不能为空');
       			return false;
       	}
       	var num = $('#num').val();
       	 var pattern =  /^(0|[1-9]\d*)$/;
       	 	if(pattern.test(num) == false){
               	alert('请输入正确格式的学号');
               	return false; 
           }else if(num.length != 12){
       			alert('请输入12位的学号');
       			return false;
       	}
       	var gender =$("input[name='gender']:checked").val();
       		if(gender == null || gender ==""){
       			alert('性别不能为空 '); 
       			return false;
       	}
       	var tele = $('#tele').val();
       	 var pattern =  /^(0|[1-9]\d*)$/;
       	 	if(pattern.test(tele) == false){
              		alert('请输入正确格式的电话号');
               	return false; 
           }else if(tele.length != 11){
       			alert('请输入11位的电话号');
       			return false;
       	}	
       	var qq = $('#qq').val();
       	 var pattern =  /^(0|[1-9]\d*)$/;
       	 	if(pattern.test(qq) == false){
               	alert('请输入正确格式的qq号'); 
               	return false;
       	}else if(qq.length < 5 || qq.length >11){
       			alert('请输入5-11位的qq号');
       			return false;
       	}
       	var group = $('#group').val();
       		if(group == null || group == ""){
       			alert('请选择你要学习的小组');
       			return false;
       	}
  	}
      
    </script>
</body>
</html>